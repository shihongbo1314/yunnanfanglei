(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae4a7928"],{3632:function(e,t,n){"use strict";n("673c")},"673c":function(e,t,n){},"70f3":function(e,t,n){"use strict";n.d(t,"p",(function(){return o})),n.d(t,"f",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"k",(function(){return u})),n.d(t,"y",(function(){return c})),n.d(t,"b",(function(){return l})),n.d(t,"z",(function(){return d})),n.d(t,"j",(function(){return p})),n.d(t,"B",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return g})),n.d(t,"A",(function(){return h})),n.d(t,"w",(function(){return b})),n.d(t,"H",(function(){return j})),n.d(t,"u",(function(){return D})),n.d(t,"q",(function(){return O})),n.d(t,"s",(function(){return L})),n.d(t,"F",(function(){return v})),n.d(t,"r",(function(){return w})),n.d(t,"m",(function(){return x})),n.d(t,"C",(function(){return k})),n.d(t,"t",(function(){return y})),n.d(t,"J",(function(){return C})),n.d(t,"l",(function(){return N})),n.d(t,"I",(function(){return S})),n.d(t,"n",(function(){return I})),n.d(t,"o",(function(){return $})),n.d(t,"D",(function(){return _})),n.d(t,"v",(function(){return E})),n.d(t,"g",(function(){return J})),n.d(t,"x",(function(){return R})),n.d(t,"G",(function(){return U})),n.d(t,"E",(function(){return P})),n.d(t,"e",(function(){return V})),n.d(t,"a",(function(){return z}));var r=n("b775");function o(e){return Object(r["a"])({url:"LightningDetection/project-record/page",method:"post",params:e})}function i(e){return Object(r["a"])({url:"LightningDetection/project-record/saveOrUpdate",method:"post",data:e})}function a(e){return Object(r["a"])({url:"LightningDetection/record-examine/list",method:"post",params:e})}function s(e){return Object(r["a"])({url:"LightningDetection/record-examine/examine",method:"post",params:e})}function u(e){return Object(r["a"])({url:"LightningDetection/user-info/getDockUser",method:"post",params:e})}function c(e){return Object(r["a"])({url:"LightningDetection/project-record/selectDockUser",method:"post",params:e})}function l(e){return Object(r["a"])({url:"LightningDetection/project-record/DockProject",method:"post",params:e})}function d(e){return Object(r["a"])({url:"LightningDetection/record-examine/examineRecord",method:"post",params:e})}function p(e){return Object(r["a"])({url:"LightningDetection/project-record/getCount",method:"post",params:e})}function m(e){return Object(r["a"])({url:"LightningDetection/project-record/summaryData",method:"post",params:e})}function f(e){return Object(r["a"])({url:"LightningDetection/project-record/summaryFile",method:"post",params:e})}function g(e){return Object(r["a"])({url:"LightningDetection/project-record/RecordStatisticsFile",method:"post",params:e})}function h(e){return Object(r["a"])({url:"LightningDetection/project-record/RecordStatisticsData",method:"post",params:e})}function b(e){return Object(r["a"])({url:"LightningDetection/project-record/remove",method:"post",params:e})}function j(e){return Object(r["a"])({url:"LightningDetection/project-record/update",method:"post",data:e})}function D(e){return Object(r["a"])({url:"LightningDetection/project-record/page",method:"post",params:e})}function O(e){return Object(r["a"])({url:"LightningDetection/record-examine/getProjectExamineUser",method:"post",params:e})}function L(e){return Object(r["a"])({url:"LightningDetection/project-record/getProjectTestUser",method:"post",params:e})}function v(e){return Object(r["a"])({url:"LightningDetection/record-examine/updateExamineRemarks",method:"post",params:e})}function w(e){return Object(r["a"])({url:"LightningDetection/project-record/getProjectInfoById",method:"post",params:e})}function x(e){return Object(r["a"])({url:"LightningDetection/record-examine/getLastExamineInfo",method:"post",params:e})}function k(e){return Object(r["a"])({url:"LightningDetection/websocket/sendMsg",method:"post",params:e})}function y(e){return Object(r["a"])({url:"LightningDetection/project-record/multiplex",method:"post",params:e})}function C(e){return Object(r["a"])({url:"LightningDetection/user-info/uploadWebSignImg",method:"post",params:e})}function N(e){return Object(r["a"])({url:"/LightningDetection/user-info/getDockUser",method:"post",params:e})}function S(e){return Object(r["a"])({url:"/LightningDetection/user-info/uploadSignImg",method:"post",data:e})}function I(e){return Object(r["a"])({url:"/LightningDetection/bill-formula/getOne",method:"post",params:e})}function $(e){return Object(r["a"])({url:"/LightningDetection/bill-formula/update",method:"post",params:e})}function _(e){return Object(r["a"])({url:"/LightningDetection/project-record/statistics",method:"post",params:e})}function E(e){return Object(r["a"])({url:"/LightningDetection/project-record/reCallProject",method:"post",params:e})}function J(e){return Object(r["a"])({url:"/LightningDetection/project-record/createSubproject",method:"post",params:e})}function R(e){return Object(r["a"])({url:"/LightningDetection/project-record/selectDockTask",method:"post",params:e})}function U(e){return Object(r["a"])({url:"/LightningDetection/record-examine/updateExamineReviewer",method:"post",params:e})}function P(e){return Object(r["a"])({url:"/LightningDetection/record-temporary/list",method:"post",params:e})}function V(e){return Object(r["a"])({url:"/LightningDetection/project-invoice/saveOrUpdate",method:"post",params:e})}function z(e){return Object(r["a"])({url:"/LightningDetection/project-invoice/delete",method:"post",params:e})}},"972a":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app-container",staticStyle:{height:"100%"}},[n("div",{staticClass:"demo-form-inline"},[e._v(" 个人信息 ")]),n("div",{staticClass:"content"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],staticStyle:{height:"100%"},attrs:{data:e.list,"element-loading-text":"Loading",border:""}},[n("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",width:"95"}}),n("el-table-column",{attrs:{label:"真实姓名",align:"left",prop:"trueName"}}),n("el-table-column",{attrs:{label:"职务",align:"left",prop:"name"}}),n("el-table-column",{attrs:{label:"密码",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",[e._v("******")])]}}])}),n("el-table-column",{attrs:{label:"电话",align:"left",prop:"phone"}}),n("el-table-column",{attrs:{align:"center",prop:"created_at",label:"编辑",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{staticStyle:{display:"flex",width:"100%","justify-content":"space-evenly"}},[n("div",[n("el-button",{attrs:{size:"mini",type:"success",plain:""},on:{click:function(n){return e.alter(t.row)}}},[e._v("修改")])],1),n("div",[n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.handleEdit()}}},[e._v("签名录入")])],1),n("div",[n("el-upload",{ref:"upload",attrs:{action:"",accept:".jpg,.jpeg,.png",limit:10,"before-upload":e.uploadHttpimg,"file-list":e.fileList}},[n("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("上传签名")])],1)],1)])]}}])})],1)],1),n("el-dialog",{attrs:{title:"签名模板",visible:e.dialog.innerVisible},on:{"update:visible":function(t){return e.$set(e.dialog,"innerVisible",t)}}},[n("vue-esign",{ref:"esign",staticClass:"esignature",attrs:{width:1e3,height:300,isCrop:e.isCrop,lineWidth:e.lineWidth,lineColor:e.lineColor,bgColor:e.bgColor},on:{"update:bgColor":function(t){e.bgColor=t},"update:bg-color":function(t){e.bgColor=t}}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.handleReset}},[e._v("清空")]),n("el-button",{attrs:{type:"primary"},on:{click:e.handleGenerate}},[e._v("上传")])],1)],1),n("el-dialog",{attrs:{title:"修改个人信息",visible:e.reuse,width:"30%"},on:{"update:visible":function(t){e.reuse=t}}},[n("el-form",{attrs:{model:e.reuseform,"label-position":"right","label-width":"100px"}},[n("el-form-item",{attrs:{label:"真实姓名："}},[n("el-input",{model:{value:e.reuseform.trueName,callback:function(t){e.$set(e.reuseform,"trueName",t)},expression:"reuseform.trueName"}})],1),n("el-form-item",{attrs:{label:"密码："}},[n("el-input",{model:{value:e.reuseform.password,callback:function(t){e.$set(e.reuseform,"password",t)},expression:"reuseform.password"}})],1),n("el-form-item",{attrs:{label:"电话："}},[n("el-input",{model:{value:e.reuseform.phone,callback:function(t){e.$set(e.reuseform,"phone",t)},expression:"reuseform.phone"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.reuse=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.multiplex}},[e._v("确 定")])],1)],1)],1)},o=[],i=(n("ac1f"),n("1276"),n("b0c0"),n("e9c4"),n("70f3")),a=n("c24f"),s={name:"XXX",data:function(){return{lineWidth:6,lineColor:"#000000",bgColor:"",resultImg:"",isCrop:!1,list:[],listLoading:!1,labelPosition:"right",dialog:{innerVisible:!1},reuse:!1,fileList:[],reuseform:{}}},created:function(){this.fetchData()},methods:{handleReset:function(){this.$refs.esign.reset()},handleGenerate:function(){var e=this;this.$refs.esign.generate().then((function(t){e.resultImg=t.split(",")[1],Object(i["J"])({fileBase64String:e.resultImg,userid:e.list[0].id}).then((function(t){200==t.data.state&&(e.$message.success("上传成功"),e.dialog.innerVisible=!1)})).catch((function(t){e.$message.success("上传失败"),e.dialog.innerVisible=!1}))})).catch((function(t){e.$message.error("签名不能为空")}))},fetchData:function(){var e=JSON.parse(sessionStorage.getItem("records"));this.list=[],this.list.push({trueName:e.trueName,id:e.id,name:e.roleIdMap.name,phone:e.phone,password:e.password,userName:e.userName})},handleEdit:function(){this.dialog.innerVisible=!0},uploadHttpimg:function(e){var t=this,n=JSON.parse(sessionStorage.getItem("records")),r=new FormData;r.append("file",e),r.append("userId",n.id),Object(i["I"])(r).then((function(e){200==e.data.state?t.$message.success("签名上传成功"):t.$message.error("签名上传失败")}))},alter:function(e){this.reuseform=e,this.reuse=!0},multiplex:function(){var e=this,t=JSON.parse(sessionStorage.getItem("records")),n=t;Object(a["w"])({userName:this.reuseform.userName,password:this.reuseform.password,trueName:this.reuseform.trueName,phone:this.reuseform.phone,id:this.reuseform.id}).then((function(t){n.userName=e.reuseform.userName,n.password=e.reuseform.password,n.trueName=e.reuseform.trueName,n.phone=e.reuseform.phone,n.id=e.reuseform.id,200==t.data.state?(e.$message.success("修改成功"),e.reuse=!1,window.sessionStorage.setItem("records",JSON.stringify(n))):(e.reuse=!1,e.$message.success("修改失败"))}))}}},u=s,c=(n("3632"),n("2877")),l=Object(c["a"])(u,r,o,!1,null,"783700de",null);t["default"]=l.exports}}]);